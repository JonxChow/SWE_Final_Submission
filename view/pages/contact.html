<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Fixaroo</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/services.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Global Styles */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        /* Navbar Styles */
        .navbar {
            background-color: #1e2a38; /* Dark Blue */
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.75rem;
            color: #ffffff !important;
        }

        .nav-link {
            color: #ffffff !important;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: #ffb123 !important; /* Accent Color */
        }

        /* Logo Styling */
        #logo {
            width: 50px;
            height: auto;
            margin-right: 10px;
        }

        /* Header Section */
        .contactus-header {
            background-color: #ffffff;
            padding: 60px 0 40px 0;
            text-align: center;
        }

        .contactus-header h2 {
            font-size: 2.5rem;
            color: #1e2a38;
            margin-bottom: 20px;
        }

        .green-line {
            width: 100px;
            height: 4px;
            background-color: #ffb123;
            margin: 0 auto 40px auto;
            border: none;
        }

        /* Contact Information Section */
        .contact-info {
            padding: 40px 0;
            background-color: #f8f9fa;
        }

        .contact-info h4 {
            color: #1e2a38;
            margin-bottom: 10px; /* Reduced margin for better alignment with the icon */
        }

        .contact-info p {
            color: #555555;
            font-size: 1.1rem;
            line-height: 1.6;
            margin: 0; /* Remove default margin */
        }

        .contact-info .info-item {
            margin-bottom: 30px; /* Increased spacing for better separation */
            display: flex;
            align-items: flex-start; /* Align items to the top for better consistency */
        }

        .contact-info .info-item i {
            font-size: 1.5rem;
            color: #ffb123;
            margin-right: 15px;
            min-width: 30px; /* Ensure icons have a consistent width */
        }

        /* Contact Form Section */
        .contact-form-section {
            padding: 60px 0;
        }

        .contact-form {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .contact-form h4 {
            color: #1e2a38;
            margin-bottom: 30px;
        }

        .contact-form .form-control {
            border-radius: 10px;
            padding: 15px;
        }

        .contact-form .btn-submit {
            background-color: #ffb123;
            color: #ffffff;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            transition: background-color 0.3s, transform 0.3s;
            cursor: pointer;
        }

        .contact-form .btn-submit:hover {
            background-color: #e0a500;
            transform: scale(1.05);
        }

        /* Footer Styles */
        .footer {
            background-color: #1e2a38;
            padding: 20px 0;
            color: #ffffff;
            text-align: center;
        }

        .footer h5 {
            font-weight: 700;
            margin-bottom: 10px;
        }

        .footer p {
            font-style: italic;
            margin: 5px 0;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .contactus-header h2 {
                font-size: 2rem;
            }

            .nav-link {
                font-size: 1rem;
            }

            .navbar-brand {
                font-size: 1.5rem;
            }

            .contact-info .info-item i {
                font-size: 1.3rem;
            }

            .contact-form h4 {
                font-size: 1.5rem;
            }

            .contact-info .info-item {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .contact-info .info-item i {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <!-- Brand -->
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <img src="../../images/header.png" alt="Logo" id="logo">
                Fixaroo
            </a>
            <!-- Toggler for Mobile -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Navigation Links -->
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="fa-solid fa-house"></i> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="aboutus">
                            <i class="fa-solid fa-circle-info"></i> About Us
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="services">
                            <i class="fa-solid fa-tools"></i> Services
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" onclick="historyBtnClickHandler(event)">
                            <i class="fa-solid fa-clock"></i> Order History
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact">
                            <i class="fa-solid fa-envelope"></i> Contact
                        </a>
                    </li>
                    <li class="nav-item d-none d-lg-block">
                        <span class="nav-link disabled" >|</span> <!-- Divider -->
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="profile">
                            <i class="fa-solid fa-user"></i> Profile
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Contact Us Header -->
        <section class="contactus-header">
            <h2>Contact Us</h2>
            <hr class="green-line">
        </section>

        <!-- Contact Information Section -->
        <section class="contact-info">
            <div class="container">
                <div class="row">
                    <!-- Address -->
                    <div class="col-md-4" data-aos="fade-up">
                        <div class="info-item">
                            <i class="fa-solid fa-location-dot"></i>
                            <div>
                                <h4>Address</h4>
                                <p>50 Nanyang Ave, Block N4, Singapore 639798</p>
                            </div>
                        </div>
                    </div>
                    <!-- Phone -->
                    <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                        <div class="info-item">
                            <i class="fa-solid fa-phone"></i>
                            <div>
                                <h4>Phone</h4>
                                <p>+65 88888888</p>
                            </div>
                        </div>
                    </div>
                    <!-- Email -->
                    <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                        <div class="info-item">
                            <i class="fa-solid fa-envelope"></i>
                            <div>
                                <h4>Email</h4>
                                <p>support@fixaroo.com</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Form Section -->
        <section class="contact-form-section">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8" data-aos="fade-up">
                        <div class="contact-form">
                            <h4>Get in Touch</h4>
                            <form id="contactForm">
                                <div class="mb-3">
                                    <label for="name" class="form-label">Name<span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="name" name="user_name" placeholder="Your Name" required>
                                    <div class="invalid-feedback">
                                        Please enter your name.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email<span class="text-danger">*</span></label>
                                    <input type="email" class="form-control" id="email" name="user_email" placeholder="your.email@example.com" required>
                                    <div class="invalid-feedback">
                                        Please enter a valid email address.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="subject" class="form-label">Subject<span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject" required>
                                    <div class="invalid-feedback">
                                        Please enter a subject.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="message" class="form-label">Message<span class="text-danger">*</span></label>
                                    <textarea class="form-control" id="message" name="message" rows="5" placeholder="Your Message" required></textarea>
                                    <div class="invalid-feedback">
                                        Please enter your message.
                                    </div>
                                </div>
                                <button type="submit" class="btn-submit">Send Message</button>
                            </form>
                            <div id="formMessage" class="mt-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <h5>Fixaroo</h5>
            <p>We Fix, You Relax!</p>
        </div>
    </footer>

    <!-- JavaScript Libraries -->
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome JS (for icons, if needed) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <!-- AOS JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <!-- Custom JS -->
    <script type="module" src="/confirmation.js"></script>
    <script type="module" src="/services.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 1200,
            once: true, // Whether animation should happen only once - while scrolling down
        });

        // Initialize EmailJS with your User ID
        (function(){
            emailjs.init("9x9NJFyX4_NISPyvO"); // Replace 'YOUR_USER_ID' with your actual User ID from EmailJS
        })();

        // Contact Form Validation and Email Sending
        (function () {
            'use strict'

            // Fetch the form we want to apply custom Bootstrap validation styles to
            var form = document.getElementById('contactForm')

            form.addEventListener('submit', function (event) {
                event.preventDefault()
                event.stopPropagation()

                if (form.checkValidity()) {
                    // Show a loading message
                    document.getElementById('formMessage').innerHTML = `
                        <div class="alert alert-info" role="alert">
                            Sending your message...
                        </div>
                    `

                    // Use EmailJS to send the form
                    emailjs.sendForm('service_dkzztme', 'template_s8zjf0q', form)
                        .then(function(response) {
                            console.log('SUCCESS!', response.status, response.text);
                            document.getElementById('formMessage').innerHTML = `
                                <div class="alert alert-success" role="alert">
                                    Thank you for contacting us! We'll get back to you shortly.
                                </div>
                            `
                            form.reset()
                            form.classList.remove('was-validated')
                        }, function(error) {
                            console.log('FAILED...', error);
                            document.getElementById('formMessage').innerHTML = `
                                <div class="alert alert-danger" role="alert">
                                    Oops! Something went wrong. Please try again later.
                                </div>
                            `
                        });
                } else {
                    form.classList.add('was-validated')
                }
            }, false)
        })();

        // Redirect to login page if not logged in
        function historyBtnClickHandler(event) {
            if (!localStorage.getItem("loggedIn")) {
                event.preventDefault();
                window.location.href = "/login";
            } else {
                window.location.href = "/history";
            }
        }
    </script>
</body>
</html>
